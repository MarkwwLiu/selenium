# 測試流程圖

從「拿到 URL」到「看到測試報告」的完整流程。

---

## 主流程

```
                        ┌─────────────┐
                        │  輸入 URL    │
                        └──────┬──────┘
                               ▼
                    ┌─────────────────────┐
                    │  產生情境模組          │
                    │  generate_scenario.py│
                    └──────┬──────────────┘
                           ▼
              ┌────────────────────────────┐
              │  自動掃描頁面 + 產生檔案      │
              │  ├─ Page Object 骨架        │
              │  ├─ 測試案例（正向/反向/邊界）│
              │  ├─ 測試資料 JSON            │
              │  └─ conftest.py fixtures    │
              └────────────┬───────────────┘
                           ▼
              ┌────────────────────────────┐
              │  調整 Page Object + 測試     │
              │  （依實際需求修改）           │
              └────────────┬───────────────┘
                           ▼
              ┌────────────────────────────┐
              │  執行測試                    │
              │  pytest scenarios/xxx/ -v   │
              └────────────┬───────────────┘
                           ▼
              ┌────────────────────────────┐
              │  查看結果                    │
              │  results/ 目錄              │
              │  ├─ HTML 報告               │
              │  ├─ 失敗截圖                │
              │  ├─ 執行日誌                │
              │  └─ 操作快照 + 時間軸        │
              └────────────────────────────┘
```

---

## 測試執行流程（自動快照）

每一步操作都會自動記錄：

```
open(url)
  ├─ screenshot.png    ← 截圖
  ├─ page.html         ← HTML 原始碼
  └─ state.json        ← 表單狀態
       ▼
input_text(email)
  ├─ screenshot.png
  ├─ page.html
  └─ state.json
       ▼
click(submit)
  ├─ screenshot.png
  ├─ page.html
  └─ state.json
       ▼
timeline.json          ← 完整操作時間軸
```

---

## 開發流程

```
需求 → 開分支 → 規劃 → 開發 → Code Review → 測試 → User Review
                                                         │
                                              ┌──────────┤
                                              ▼          ▼
                                           不同意      同意
                                              │          │
                                              ▼          ▼
                                        回到「開發」   Merge to main
```

詳細開發流程規範請見 [CLAUDE.md](../CLAUDE.md)。
